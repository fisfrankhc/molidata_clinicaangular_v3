<div class="page-wrapper">
    <div class="content container-fluid">

        <!-- Page Header -->
        <div class="page-header">
            <div class="row">
                <div class="col-sm-12">
                    <ul class="breadcrumb">
                        <li class="breadcrumb-item"><a>LOG&Iacute;STICA </a></li>
                        <li class="breadcrumb-item"><i class="feather icon-chevron-right"></i></li>
                        <li class="breadcrumb-item"><a [routerLink]="ruta.logistica_transferencias">TRANSFERENCIAS</a>
                        </li>
                        <li class="breadcrumb-item"><i class="feather icon-chevron-right"></i></li>
                        <li class="breadcrumb-item"><a
                                [routerLink]="ruta.logistica_transferencias_revisartransferencia">REVISAR
                                TRANSFERENCIAS</a>
                        </li>
                        <li class="breadcrumb-item"><i class="feather icon-chevron-right"></i></li>
                        <li class="breadcrumb-item active">Revisi&oacute;n de transferencia </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="card invoices-add-card">
                    <div class="card-body">
                        <form class="invoices-form" [formGroup]="form">
                            <div class="invoices-main-form" style="margin-bottom: 8px; padding-bottom: 0px;">
                                <div formGroupName="movimientoDetalle">
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="form-heading">
                                                <h4>Información sobre Transferencia</h4>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <input type="hidden" formControlName="movimiento_id">
                                            <div class="col-12 col-md-6 col-xl-3">
                                                <div class="form-group local-forms">
                                                    <label style="border-bottom: 1px solid lightgrey;">ORIGEN: </label>
                                                    <input class="form-control" formControlName="movimiento_origen"
                                                        type="text"
                                                        style="background-color: rgb(0 0 0 / 0%); border: 0; font-size: medium;"
                                                        readonly>
                                                </div>
                                            </div>
                                            <div class="col-12 col-md-6 col-xl-4">
                                                <div class="form-group local-forms">
                                                    <label style="border-bottom: 1px solid lightgrey;">FECHA DE
                                                        MOVIMIENTO: </label>
                                                    <input class="form-control" formControlName="movimiento_fecha"
                                                        type="text"
                                                        style="background-color: rgb(0 0 0 / 0%); border: 0; font-size: medium;"
                                                        readonly>
                                                </div>
                                            </div>
                                            <div class="col-12 col-md-6 col-xl-3">
                                                <div class="form-group local-forms">
                                                    <label style="border-bottom: 1px solid lightgrey;">TIPO DE
                                                        MOVIMIENTO: </label>
                                                    <input class="form-control" formControlName="movimiento_tipo"
                                                        style="background-color: rgb(0 0 0 / 0%); border: 0; font-size: medium;"
                                                        type="text" readonly>
                                                </div>
                                            </div>
                                            <div class="col-12 col-md-6 col-xl-3">
                                                <div class="form-group local-forms">
                                                    <label style="border-bottom: 1px solid lightgrey;">USUARIO: </label>
                                                    <input class="form-control" formControlName="usuario_nombre"
                                                        style="background-color: rgb(0 0 0 / 0%); border: 0; font-size: medium;"
                                                        type="text" readonly>
                                                </div>
                                            </div>
                                            <div class="col-12 col-md-6 col-xl-3">
                                                <div class="form-group local-forms">
                                                    <label style="border-bottom: 1px solid lightgrey;">DESTINO: </label>
                                                    <input class="form-control" formControlName="sucursal_nombre"
                                                        style="background-color: rgb(0 0 0 / 0%); border: 0; font-size: medium;"
                                                        type="text" readonly>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="invoice-add-table" style="padding-top: 0px;">
                                <h4>Productos transferidos</h4>
                                <div class="table-responsive">
                                    <table class="table table-striped table-nowrap  mb-0 no-footer add-table-items">
                                        <thead>
                                            <tr style="text-align: center">
                                                <th>#</th>
                                                <th>C&Oacute;DIGO</th>
                                                <th>PRODUCTO</th>
                                                <th>CANTIDAD</th>
                                                <th>UNIDAD MEDIDA</th>
                                                <!-- <th>PRECIO COMPRA</th> -->
                                                <!-- <th>Subtotal</th> -->
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr class="add-row"
                                                *ngFor="let data of datosMovimientoDetalle; let i = index">
                                                <td style="max-width: 50px;">
                                                    <input class="form-control" value="{{i+1}}"
                                                        style="text-align: center; background-color: transparent;border: 0;"
                                                        readonly>
                                                </td>
                                                <td style="max-width: 150px;">
                                                    <input class="form-control" [value]="data.codigoProducto"
                                                        style="text-align: center; background-color: transparent;border: 0;"
                                                        readonly>
                                                </td>
                                                <td>
                                                    <input type="text" class="form-control"
                                                        [value]="data.nombreProducto"
                                                        style="text-align: center; background-color: transparent;border: 0;"
                                                        readonly>
                                                </td>
                                                <td style="max-width: 100px;">
                                                    <input class="form-control" [value]="data.cantidad"
                                                        style="text-align: center; background-color: transparent;border: 0;"
                                                        readonly>
                                                </td>
                                                <td style="max-width: 110px;">
                                                    <input class="form-control" [value]="data.nombreMedida"
                                                        style="text-align: center; background-color: transparent;border: 0;"
                                                        readonly>
                                                </td>
                                                <!-- <td style="max-width: 110px;">
                                                    <input class="form-control" [value]="data.precio_compra"
                                                        style="text-align: center; background-color: transparent;border: 0;"
                                                        readonly>
                                                </td> -->
                                                <!-- <td style="vertical-align: middle;">
                                                    <p style="margin: 0; text-align: center; font-weight: 500;">
                                                        {{calcularSubtotal(data)}}</p>
                                                </td> -->
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="row">
                                <div class="offset-lg-6 col-md-6">
                                    <!-- <div class="invoice-total-card">
                                        <h3 class="invoice-total-title">Resumen</h3>
                                        <div class="invoice-total-box">
                                            <div class="invoice-total-inner">
                                                <p style="margin-bottom: 0; font-weight: 800;     font-size: 18px;">
                                                    TOTAL <span>{{ calcularSubtotalTotal() |
                                                        currency: 'PEN ' }}</span></p>
                                            </div>
                                        </div>
                                    </div> -->
                                    <div class="upload-sign">
                                        <div class="doctor-submit text-end">
                                            <a class="btn btn-primary cancel-form"
                                                [routerLink]="ruta.logistica_transferencias_revisartransferencia">ATRÁS</a>
                                            <a href="javascript:void(0);"
                                                *ngIf="datoMOVIMIENTO[0] && datoMOVIMIENTO[0]['movimiento_observaciones'] === '' "
                                                class="btn btn-success" data-bs-toggle="modal"
                                                data-bs-target="#agregar_datos_entrega"
                                                style="margin: 5px; padding: 11px">ATENDER TRANSFERECIA</a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <!-- Save Invoices Modal -->
                            <div class="modal custom-modal fade" id="agregar_datos_entrega" role="dialog">
                                <div class="modal-dialog modal-dialog-centered">
                                    <div class="modal-content">
                                        <div class="modal-body">
                                            <div class="form-header" style="margin-bottom: 15px;">
                                                <h3>TRANSFERENCIA DE STOCK</h3>
                                                <div class="row">
                                                    <label style="position: initial; font-size: medium;">LISTADO DE
                                                        PRODUCTOS
                                                    </label>
                                                    <div class="table-responsive" style="padding-bottom: 20px;">
                                                        <table
                                                            class="table table-striped table-nowrap  mb-0 no-footer add-table-items table-transferencia-modal">
                                                            <thead>
                                                                <tr style="text-align: center">
                                                                    <th>#</th>
                                                                    <th>PRODUCTO</th>
                                                                    <th>CANTIDAD</th>
                                                                    <th>UNIDAD MEDIDA</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr class="add-row"
                                                                    *ngFor="let data of datosMovimientoDetalle; let i = index">
                                                                    <td style="max-width: 50px;">
                                                                        <input class="form-control" value="{{i+1}}"
                                                                            style="text-align: center; background-color: transparent;border: 0;"
                                                                            readonly>
                                                                    </td>
                                                                    <td>
                                                                        <input type="text" class="form-control"
                                                                            [value]="data.nombreProducto"
                                                                            style="text-align: center; background-color: transparent;border: 0;"
                                                                            readonly>
                                                                    </td>
                                                                    <td style="max-width: 100px;">
                                                                        <input class="form-control"
                                                                            [value]="data.cantidad"
                                                                            style="text-align: center; background-color: transparent;border: 0;"
                                                                            readonly>
                                                                    </td>
                                                                    <td style="max-width: 110px;">
                                                                        <input class="form-control"
                                                                            [value]="data.nombreMedida"
                                                                            style="text-align: center; background-color: transparent;border: 0;"
                                                                            readonly>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <label style="position: initial; font-size: larger;">¿ESTA SEGURO DE
                                                        CONFIRMAR LA
                                                        TRANSFERENCIA?
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="modal-btn delete-action">
                                                <div class="row justify-content-md-center"
                                                    style="padding-bottom: 10px;">
                                                    <div class="col-3">
                                                        <a href="javascript:void(0);" data-bs-dismiss="modal"
                                                            style="padding: 5px; font-size: 14px;"
                                                            class="btn btn-primary paid-cancel-btn">Salir</a>
                                                    </div>
                                                </div>
                                                <div class="row justify-content-md-center">
                                                    <div class="col-5">
                                                        <a href="javascript:void(0);" (click)="rechazarTransferencia()"
                                                            data-bs-dismiss="modal"
                                                            class="btn btn-danger paid-cancel-btn"
                                                            style="border: 1px solid #f62d51; color: #b90122;">RECHAZAR</a>
                                                    </div>
                                                    <div class="col-5">
                                                        <a href="javascript:void(0);" (click)="aceptarTransferencia()"
                                                            data-bs-dismiss="modal"
                                                            class="btn btn-primary paid-continue-btn"
                                                            style="width: 100%;">ACEPTAR</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- /Save Invoices Modal -->
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>